<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='initial-scale=1'>
  <title>Map of Christmas traditions</title>
  <link href='https://fonts.googleapis.com/css?family=Berkshire+Swash|Roboto+Slab' rel='stylesheet'>
  <link rel='stylesheet' href='https://js.arcgis.com/4.6/esri/css/main.css'>
  <link rel='stylesheet' href='custom.css'>
  <script>
    window.dojoConfig = {
      async: true,
      packages: [{
        name: 'redux',
        location: 'https://cdnjs.cloudflare.com/ajax/libs/redux/3.7.2/',
        main: 'redux'
      }, {
        name: 'app',
        location: location.pathname.replace(/\/[^\/]+$/, '') + 'app/'
      }],
      has: {
        "esri-promise-compatibility": 1
      }
    };
  </script>
  <script src='https://js.arcgis.com/4.6/'></script>
  <script>
    require(['app/dataUtils', 'app/storeConfig', 'app/scene', 'app/tour', 'dojo/domReady!'], function(dataUtils, storeConfig, scene, tour) {

      dataUtils.loadData('data/traditions.json')
        .then(function(data) {
          return dataUtils.convertToGraphics(data);
        })
        .then(function(graphics) {
          var store = storeConfig.initStore(graphics); // initialize store
          scene.init('scene', store); // initialize scene
          tour.init('tour', store); // initialize tour
        });


    });
  </script>
</head>

<body>
  <div id='scene'></div>
  <div id='menu'>
    <h2>Map of Christmas traditions</h2>
    <img src='img/christmas.svg' alt='christmas'/>
    <button id='tour'>Take a tour</button>
  </div>
</body>

</html>