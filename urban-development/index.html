<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Urban development</title>
  <link rel="stylesheet" href="https://js.arcgis.com/4.7/esri/css/main.css">
  <script src="https://js.arcgis.com/4.7/"></script>

  <style>
    html,
    body,
    #viewDiv {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

  </style>

  <script>
    require([
      "esri/WebScene",
      "esri/layers/SceneLayer",
      "esri/views/SceneView",
      "dojo/domReady!"
    ], function (
      WebScene,
      SceneLayer,
      SceneView,
      Legend
    ) {

     var webscene = new WebScene({
          portalItem: {
            id: "5bc9b920f00243d99593426ece0059c3"
          }
        });

      var view = new SceneView({
          map: webscene,
          container: "viewDiv",
          qualityProfile: "high",
          environment: {
            lighting: {
              directShadowsEnabled: true,
              ambientOcclusionEnabled: true
            },
            atmosphereEnabled: true,
            atmosphere: {
              quality: "high"
            }
          }
        });

        window.view = view;

        var buildingsLayer = new SceneLayer({
          portalItem: {
            id: "2f4fdd99e3104157ac98579ad5f26835"
          },
          renderer: {
          type: 'simple',
          symbol: {
            type: 'mesh-3d',
            symbolLayers: [{
              type: 'fill',
              material: {
                color: '#ffffff'
              },
              edges: {
                type: 'solid',
                color: [0, 0, 0, 0.4]
              }
            }]
          }
        }
        });

        webscene.add(buildingsLayer);

        var projectLayer = new SceneLayer({
          url: "https://tiles.arcgis.com/tiles/cFEFS0EWrhfDeVw9/arcgis/rest/services/KiteMasterplanSmallerMassWithAnalyticalTreesWith2Streets/SceneServer",
          renderer: {
              type: 'simple',
              symbol: {
                type: 'mesh-3d',
                symbolLayers: [{
                  type: 'fill',
                  edges: {
                    type: "sketchy",
                    size: 1,
                    color: [0, 0, 0, 1],
                    extensionLength: 10
                  }
                }]
              }
            }
        });

        webscene.add(projectLayer);

        view.when(function() {
          view.goTo(webscene.presentation.slides.getItemAt(1).viewpoint, {animation: false});
        })

    });

  </script>
</head>

<body>
  <div id="viewDiv"></div>
</body>

</html>
